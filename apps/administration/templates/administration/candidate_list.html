{% extends 'administration/base_admin.html' %}

{% block content %}
<div class="admin-header">
    <h1 class="admin-title">Candidates</h1>
    <div class="admin-actions">
        <a href="{% url 'administration:candidate_create' %}" class="btn-primary"
            style="background: var(--admin-accent); color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; text-decoration: none; display: inline-block;">
            <i class="fas fa-plus"></i> Register Candidate
        </a>
    </div>
</div>

<div style="background: white; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); overflow: hidden;">
    <table style="width: 100%; border-collapse: collapse;">
        <thead style="background-color: #f8fafc; border-bottom: 1px solid #e2e8f0;">
            <tr>
                <th style="padding: 1rem; text-align: left; font-weight: 600; color: #475569;">Name</th>
                <th style="padding: 1rem; text-align: left; font-weight: 600; color: #475569;">Position</th>
                <th style="padding: 1rem; text-align: left; font-weight: 600; color: #475569;">Election</th>
                <th style="padding: 1rem; text-align: left; font-weight: 600; color: #475569;">Partylist</th>
                <th style="padding: 1rem; text-align: left; font-weight: 600; color: #475569;">Status</th>
                <th style="padding: 1rem; text-align: right; font-weight: 600; color: #475569;">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for candidate in candidates %}
            <tr style="border-bottom: 1px solid #e2e8f0;">
                <td style="padding: 1rem;">{{ candidate.student_profile.user.get_full_name }}</td>
                <td style="padding: 1rem;">{{ candidate.position.name }}</td>
                <td style="padding: 1rem;">{{ candidate.election.name }}</td>
                <td style="padding: 1rem;">
                    {% if candidate.partylist %}
                    {{ candidate.partylist.short_code }}
                    {% else %}
                    <span style="color: #94a3b8;">Independent</span>
                    {% endif %}
                </td>
                <td style="padding: 1rem;">
                    {% if candidate.is_approved %}
                    <span
                        style="background: #dcfce7; color: #166534; padding: 0.25rem 0.75rem; border-radius: 999px; font-size: 0.875rem; font-weight: 500;">Approved</span>
                    {% else %}
                    <span
                        style="background: #fef9c3; color: #854d0e; padding: 0.25rem 0.75rem; border-radius: 999px; font-size: 0.875rem; font-weight: 500;">Pending</span>
                    {% endif %}
                </td>
                <td style="padding: 1rem; text-align: right;">
                    <a href="{% url 'administration:candidate_edit' candidate.pk %}"
                        style="color: var(--admin-accent); margin-right: 10px;"><i class="fas fa-edit"></i></a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="6" style="padding: 2rem; text-align: center; color: #64748b;">No candidates found.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}