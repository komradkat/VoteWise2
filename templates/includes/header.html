{% load static %}
<header>
    <!-- Top Bar: Logo and Auth -->
    <div class="top-bar">
        <div class="container">
            <div class="top-bar-content">
                <div class="logo-container">
                    <a href="{% url 'home' %}" class="logo">
                        <img src="{% static 'img/logo.png' %}" alt="VoteWise Logo" class="logo-img">
                        <span class="logo-text">Vote<span>Wise</span> v0.1</span>
                    </a>
                </div>
                <div class="vote-button-container">
                    <div class="auth-buttons">
                        {% if user.is_authenticated %}
                        <a href="{% url 'accounts:profile' %}" class="btn-secondary">
                            <i class="fas fa-user"></i> Profile
                        </a>
                        <button onclick="openLogoutModal()" class="btn-secondary logout-btn">
                            <i class="fas fa-sign-out-alt"></i> Log Out
                        </button>
                        {% else %}
                        <a href="{% url 'accounts:login' %}" class="cta-button primary">
                            <i class="fas fa-vote-yea"></i> Cast Your Vote
                        </a>
                        {% endif %}
                    </div>
                </div>
                <button class="mobile-menu-toggle" id="mobileMenuToggle">
                    <span><i class="fas fa-bars"></i></span>
                </button>
            </div>
        </div>
    </div>

    <!-- Main Navigation Bar -->
    <div class="main-nav">
        <div class="container">
            <ul class="nav-links" id="navLinks">
                <li><a href="{% url 'home' %}" class="active-link">Home</a></li>
                <li><a href="{% url 'results' %}">Results</a></li>
                <li><a href="#features">Features</a></li>
                <li><a href="#timeline">Timeline</a></li>
            </ul>
        </div>
    </div>
</header>

<!-- Logout Confirmation Modal -->
<div id="logoutModal" class="modal">
    <div class="modal-content">
        <h2>Confirm Logout</h2>
        <p>Are you sure you want to log out?</p>
        <div class="modal-buttons">
            <button class="btn-cancel" onclick="closeLogoutModal()">Cancel</button>
            <a href="{% url 'accounts:logout' %}" class="btn-confirm">Log Out</a>
        </div>
    </div>
</div>

<script>
    function openLogoutModal() {
        document.getElementById('logoutModal').style.display = 'block';
    }

    function closeLogoutModal() {
        document.getElementById('logoutModal').style.display = 'none';
    }

    // Close modal if user clicks outside of it
    window.onclick = function (event) {
        var modal = document.getElementById('logoutModal');
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
</script>